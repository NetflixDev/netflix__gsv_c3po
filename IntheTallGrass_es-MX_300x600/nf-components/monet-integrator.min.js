if(window.Utils=window.Utils||{},Utils.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Utils.isEdge=/(edge(?=\/))\//i.test(navigator.userAgent),Utils.isiOS=/iPad|iPhone|iPod/.test(navigator.userAgent),Utils.isiOS9up=Utils.isiOS&&9<navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1],Utils.isiPad=/iPad/.test(navigator.userAgent),Utils.isSafari=!Utils.isEdge&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Utils.isFirefox=!Utils.isEdge&&/firefox/i.test(navigator.userAgent),Utils.isIE=!Utils.isEdge&&/(msie|trident)/i.test(navigator.userAgent),window.Utils=window.Utils||{},Utils.SvgIcon=function(t,e,n){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"d",e),i.setAttribute("data-original",e),null!=n&&i.setAttribute("fill",n),i.setAttribute("class",t||""),i},"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var i=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var e,n=arguments.length;for(e=0;e<n;e++)t=arguments[e],i.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],o=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],d=function(){return new l(this)};if(s[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==c(this,t+="")},u.add=function(){for(var t,e=arguments,n=0,i=e.length,o=!1;t=e[n]+"",-1===c(this,t)&&(this.push(t),o=!0),++n<i;);o&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,o=n.length,r=!1;do{for(t=n[i]+"",e=c(this,t);-1!==e;)this.splice(e,1),r=!0,e=c(this,t)}while(++i<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},o.defineProperty){var f={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(i,e,f)}catch(t){-2146823252===t.number&&(f.enumerable=!1,o.defineProperty(i,e,f))}}else o[n].__defineGetter__&&i.__defineGetter__(e,d)}}(self)),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function i(){}function r(t){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,r._immediateFn(function(){var t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void s(i.promise,t)}a(i.promise,e)}else(1===n._state?a:s)(i.promise,n._value)})):n._deferreds.push(i)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void l((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var i,o}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(t){if(n)return;n=!0,s(e,t)}}var e=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(i);return o(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},r.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},r.all=function(e){return new r(function(i,o){function r(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){r(e,t)},o)}a[e]=t,0==--s&&i(a)}catch(t){o(t)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return i([]);for(var s=a.length,t=0;a.length>t;t++)r(t,a[t])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(n){return new r(function(t,e){e(n)})},r.race=function(o){return new r(function(t,e){for(var n=0,i=o.length;n<i;n++)o[n].then(t,e)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},r._unhandledRejectionFn=function(t){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var t=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw Error("unable to locate global object")}();t.Promise||(t.Promise=r)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},writable:!0,configurable:!0}),function(){window.Utils=window.Utils||{};var s=Function.call.bind(Function.apply),e="undefined"!=typeof document&&document?document.all:null,n=Function.call.bind(Object.prototype.toString),c="function"==typeof/abc/?function(t){return"function"==typeof t&&"[object Function]"===n(t)}:function(t){return"function"==typeof t},l=Object.create||function(t,o){var e=function(){};e.prototype=t;var r=new e;return void 0!==o&&keys(o).forEach(function(t){var e,n,i;e=r,i=o[n=t],a?Object.defineProperty(e,n,i):"value"in i&&(e[n]=i.value)}),r},a=!!Object.defineProperty&&!function(t){try{return t(),!1}catch(t){return!0}}(function(){return Object.defineProperty({},"x",{get:function(){}})});function u(t){return null!=t&&!0!==t&&!1!==t&&("function"==typeof t||"object"==typeof t||t===e)}Utils.reflectConstruct=function(t,e,n){var i=void 0===n?t:n;if(window.Reflect)return Reflect.construct(t,e,i);var o=i.prototype;u(o)||(o=Object.prototype);var r=l(o),a=function(t,e){var n=2<arguments.length?arguments[2]:[];if(!c(t))throw new TypeError(t+" is not a function");return s(t,e,n)}(t,r,e);return u(a)?a:r}}(),!window.customElements){var xhrObj=new XMLHttpRequest;xhrObj.open("GET","https://unpkg.com/@webcomponents/webcomponentsjs@2.2.7/bundles/webcomponents-ce.js",!1),xhrObj.send(""),eval(xhrObj.responseText)}window.Utils=window.Utils||{},Utils.createStyle=function(t,e){var n=t+"-component-stylesheet",i=document.getElementById(n)||this.stylesheet;i||((i=document.createElement("style")).type="text/css",i.id=n,this.appendChild(i));for(var o=i.innerHTML,r=0;r<arguments.length-1;r+=2){var a=arguments[r+1],s=" ";Array.isArray(a)&&(!0===a[1]&&(s=""),a=a[0]),o+=t+s,o+=a.replace(/\,\s+/g,","),o+=" { "+(arguments[r+2]||"")+" }\n"}i.innerHTML=o,this.stylesheet=i},window.Utils=window.Utils||{},Utils.textFit=function(){"use strict";var a={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};return function(t,e){e||(e={});var n={};for(var i in a)e.hasOwnProperty(i)?n[i]=e[i]:n[i]=a[i];"function"==typeof t.toArray&&(t=t.toArray());var o=Object.prototype.toString.call(t);"[object Array]"!==o&&"[object NodeList]"!==o&&"[object HTMLCollection]"!==o&&(t=[t]);for(var r=0;r<t.length;r++)s(t[r],n)};function s(t,e){if(n=t,!("object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName)||!e.reProcess&&t.getAttribute("textFitted"))return!1;var n,i,o,r,a,s,c,l,u,d,f,p;if(e.reProcess||t.setAttribute("textFitted",1),r=t.innerHTML,u=t,d=window.getComputedStyle(u,null),a=u.clientWidth-parseInt(d.getPropertyValue("padding-left"),10)-parseInt(d.getPropertyValue("padding-right"),10),f=t,p=window.getComputedStyle(f,null),o=f.clientHeight-parseInt(p.getPropertyValue("padding-top"),10)-parseInt(p.getPropertyValue("padding-bottom"),10),!a||!e.widthOnly&&!o)throw e.widthOnly?new Error("Set a static width on the target element "+t.outerHTML+" before using textFit!"):new Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!");-1===r.indexOf("textFitted")?((i=document.createElement("span")).className="textFitted",i.style.display="inline-block",i.innerHTML=r,t.innerHTML="",t.appendChild(i)):g(i=t.querySelector("span.textFitted"),"textFitAlignVert")&&(i.className=i.className.replace("textFitAlignVert",""),i.style.height="",t.className.replace("textFitAlignVertFlex","")),e.alignHoriz&&(t.style["text-align"]="center",i.style["text-align"]="center");var h=e.multiLine;for(e.detectMultiLine&&!h&&i.scrollHeight>=2*parseInt(window.getComputedStyle(i)["font-size"],10)&&(h=!0),h||(t.style["white-space"]="nowrap"),s=e.minFontSize+1,l=e.maxFontSize+1;s<=l;)c=parseInt((s+l)/2,10),i.style.fontSize=c+"px",i.scrollWidth<=a&&(e.widthOnly||i.scrollHeight<=o)?s=c+1:l=c-1;if(i.style.fontSize=c-1+"px",e.alignVert){!function(){if(document.getElementById("textFitStyleSheet"))return;var t=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignHoriz{","position: absolute;","top: 0; right: 0;","margin: auto;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join(""),e=document.createElement("style");e.type="text/css",e.id="textFitStyleSheet",e.innerHTML=t,document.body.appendChild(e)}(),g(i,"textFitAlignHoriz")||(i.className=i.className+" textFitAlignHoriz");var m=i.scrollHeight;"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),g(i,"textFitAlignVert")||(i.className=i.className+" textFitAlignVert"),i.style.height=m+"px",e.alignVertWithFlexbox&&!g(t,"textFitAlignVertFlex")&&(t.className=t.className+" textFitAlignVertFlex")}}function g(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")}}(),function(){function c(t,e){window.Monet&&Monet.log(t,e)}var a=function(){var t="https://ae.nflximg.net/monet/scripts/monet2.js",e=null,n=null,i=!1,o=!1;function r(t){var r,e=document.createElement("script"),n=(r=e,new Promise(function(t,e){var n=null,i=null,o=function(){r.removeEventListener("load",n),r.removeEventListener("error",i)};n=function(){o(),t(null)},i=function(t){o(),e(t.error)},r.addEventListener("load",n),r.addEventListener("error",i)}));return e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.head.appendChild(e),n}function a(){return(window.Monet?Promise.resolve():(n||(n=r(t)),n)).then(function(){return e||(e=Monet.init().then(function(){return c("log","Monet init complete"),i=!0,new Promise(function(e,t){Monet.onVisibilityChange(function(t){t&&!o&&(o=!0,Monet.trackEvent("MONET_IMPRESSION"),e(Monet))})})})),e})}function s(){}return s.prototype.ensureInitialized=function(){return a()},s.prototype.isInitialized=function(){return i},s}();!function(){var i=[],o=[];function e(t,e){if(!t.hasAttribute("allComponentsReady")){if(e){var n=i.indexOf(e);-1<n&&(o=o.concat(i.splice(n,1)))}i.length||(o.length||c("warn","No Monet components registered!"),c("info","Monet environment is ready."),t.setAttribute("allComponentsReady",""),r(t,"allComponentsReady"))}}function r(t,e){var n=new CustomEvent(e,{bubbles:!0,cancelable:!0});t.dispatchEvent(n)}var t=function(){var t=Utils.reflectConstruct(HTMLElement,[],this.constructor);return t.monetLoader=null,t},n=function(e,n){this.monetLoader?this.monetLoader.ensureInitialized().then(function(t){t.trackEvent(e,n)},function(t){c("error","Failed to track Monet event")}):this.pendingLogs.push({eventType:e,eventData:n})};(t.prototype=Object.create(HTMLElement.prototype,{pendingLogs:{value:[],enumerable:!1},connectedCallback:{value:function(){if(!this._attached){this._attached=!0;var n=this;this.monetLoader=new a,this.monetLoader.ensureInitialized().then(function(e){if(0!==n.pendingLogs.length){var t=n.pendingLogs.slice();n.pendingLogs.length=0,t.forEach(function(t){e.trackEvent(t)})}}).then(function(){c("info","Listening for Monet components..."),setTimeout(function(){e(n)},3e3)}).catch(function(t){r(n,"failover")})}},enumerable:!0},attributeChangedCallback:{value:function(t){},enumerable:!0},isDataLoaded:{value:function(){return this.monetLoader.isInitialized()}},ensureInitialized:{value:function(){return this.monetLoader.ensureInitialized()}},getExitElementId:{value:function(){return this.getAttribute("exit-element-id")}},trackEvent:{value:n},logEvent:{value:n},handleMonetError:{value:function(t,e){c("error",t.detail),this.trackEvent(e),r(this,"failover")}},register:{value:function(t){t.addEventListener("ready",function(t){c("info","Monet component <"+t.target.tagName.toLowerCase()+' id="'+t.target.id+'" /> is ready.'),e(this,t.target)}.bind(this)),t.addEventListener("dataFailover",function(t){this.handleMonetError(t,"MONET_DATA_ERROR")}.bind(this)),t.addEventListener("containerFailover",function(t){this.handleMonetError(t,"MONET_DATA_ERROR")}.bind(this)),i.push(t)}},preview:{value:function(){return!1}}})).constructor=t,Object.setPrototypeOf(t,HTMLElement),customElements.define("monet-integrator",t)}()}(),function(){"use strict";var i,o,r,a,s;function t(){i.ensureInitialized().then(function(){r=Monet.getFieldValue("Exit_URL")}).catch(function(t){console.error("Error loading data",t)})}function c(t){e("banner_button")}function l(){e("cta_button")}function e(t){var e,n;e="CLICK",n={src:t},i&&i.trackEvent(e,n),function(){for(var t=0;t<s.length;t++){var e=s[t];e&&e.pause()}}(),r?Monet.adExit(r):Monet.adExit()}window.addEventListener("MonetAdReady",function(){i=document.querySelector("monet-integrator"),s=document.getElementsByTagName("netflix-video"),o=document.getElementsByTagName("netflix-cta"),document.querySelector(".gwd-page-content"),i&&(!function(){var t=i.getExitElementId()||"gwd-taparea_1";(a=document.getElementById(t))?a.addEventListener("click",c,!0):console.error('No exit element was found with id: "'+t+'". This can be defined on MonetIntegrator "exit-element-id". It should correspond with an element that dispatches a "click" event.');if(o)for(var e=0;e<o.length;e++){var n=o[e].querySelector(".button");n.addEventListener("click",l,!0)}}(),i.hasAttribute("ready")?t():i.addEventListener("ready",t))});var n=new CustomEvent("MonetAdReady");/comp|inter|loaded/.test(document.readyState)?window.dispatchEvent(n):document.addEventListener("DOMContentLoaded",function(){window.dispatchEvent(n)})}(),"undefined"==typeof module&&(module={}),module.exports={id:"67e5c648-28f4-41c4-b2e4-c12fbbc10825",name:"wc-monet-integrator",description:"Component to tie ad units to monet data integration",type:"web_components",context:"Default",state:"published",updated:1568156928540,full_name:"NetflixAdsEng/wc-monet-integrator",html_url:"https://github.com/NetflixAdsEng/wc-monet-integrator",username:"GitHub",version:"7.0.1",minimum:"6.0.0"};